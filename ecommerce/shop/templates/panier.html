{% extends 'base.html' %}


{% block content %}
<div class="container mt-4">
    <h2>Votre panier</h2>
    <div class="row">
        <div class="col-md-12">
            <ul class="list-group" id="item-list"></ul>
        </div>
    </div>


{% endblock %} 

{% block js %} 

    <script type="text/javascript">
        if (localStorage.getItem('panier')==null){
            var panier = {};
        }else{
            panier = JSON.parse(localStorage.getItem('panier'));
        }

        for (x in panier){
            let nom = panier[x].name;
            let quantite = panier[x].quantity;
            let formule = panier[x].formule;
            let itemsString = `<li class="list-group-item d-flex justify-content-between align-items-center">${nom} - ${formule}
                <span class="badge badge-primary badge-pill">${quantite}</span>
            </li>`;
            $('#item-list').append(itemsString);
        };

        

    </script>

{% endblock%}
